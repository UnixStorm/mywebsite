<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNIXSTORM</title>
<style>
body{
    margin:0;padding:0;height:100vh;
    background:url("3cc68b3f22ff5463843e82b661033950.jpg") no-repeat center center fixed;
    background-size:cover;font-family:Arial;
}
.yazi-kutu{text-align:center;margin-top:28px;}
.anaYazi{font-size:18px;color:white;font-weight:bold;text-shadow:0 0 6px white;}
.vip{color:orange;font-weight:bold;text-shadow:0 0 6px orange;}
.red{color:red;font-weight:bold;text-shadow:0 0 6px red;}
.center-box{
position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
width:280px;padding:20px;background:rgba(0,0,0,0.78);
border-radius:12px;backdrop-filter:blur(5px);color:white;text-align:center;
}
.center-box input{
width:100%;padding:10px;margin:6px 0;border:none;border-radius:8px;outline:none;
}
.center-box button{
width:100%;padding:10px;margin-top:8px;border:none;border-radius:8px;
background:#006CFF;font-weight:bold;color:white;cursor:pointer;
}
.link-btn{display:block;margin-top:8px;text-decoration:underline;color:#ddd;cursor:pointer;}
#durum{margin-top:10px;min-height:22px;color:#ffebeb;font-weight:bold;font-size:14px;}
#overlay{
position:fixed;top:0;left:0;width:100%;height:100%;
background:rgba(0,0,0,0.55);display:none;justify-content:center;align-items:center;z-index:99999;
}
.loaderBox{
background:rgba(0,0,0,0.8);padding:20px 30px;border-radius:12px;
text-align:center;color:white;font-size:18px;font-weight:bold;
}
.loader{
border:4px solid #fff;border-top:4px solid transparent;border-radius:50%;
width:40px;height:40px;animation:load 1s linear infinite;margin:0 auto 15px;
}
@keyframes load{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
</style>
</head>

<body>
<div id="overlay">
  <div class="loaderBox">
    <div class="loader"></div>
    <div id="overlayText">LÃ¼tfen bekleyiniz...</div>
  </div>
</div>

<div class="yazi-kutu">
  <div class="anaYazi">ğğ® ğ¬ğ¢ğ­ğ ğ–£˜ğ”ğğˆğ—ğ’ğ“ğğ‘ğŒğŸ‡¹ğŸ‡· (ğ’ğ€ğ‡ğ ğ‘ğ„ğˆğ’) á´›á´€Ê€á´€Ò“Ä±É´á´…á´€É´ á´‹á´œÊ€á´œÊŸá´á´œsÌ§á´›á´œÊ€</div>
  <div><span class="vip">ğ˜ƒğ—¶ğ—½_ğ˜‚ğ˜†ğ—²ğ—¹ğ—²ğ—¿ğŸ”± = </span><span class="red">ğŠğ€ğ€ğ ğ™ğğ‘ğğ€ & ğˆğğ…ğ€ğ™ ğ™ğğ‘ğğ€</span></div>
</div>

<div class="center-box">
<div id="registerForm">
<h3>KayÄ±t Ol</h3>
<input id="regName" placeholder="KullanÄ±cÄ± adÄ±">
<input id="regMail" type="email" placeholder="E-posta">
<input id="regPass" type="password" placeholder="Åifre">
<input id="regCode" placeholder="E-postaya gelen kod">
<button type="button" id="regBtn">KayÄ±t Ol</button>
<span class="link-btn" id="toLogin">GiriÅŸ yapÄ±n</span>
<span class="link-btn" id="toReset">Åifremi unuttum</span>
</div>

<div id="loginForm" style="display:none;">
<h3>GiriÅŸ Yap</h3>
<input id="loginMail" type="email" placeholder="E-posta">
<input id="loginPass" type="password" placeholder="Åifre">
<button type="button" id="loginBtn">GiriÅŸ Yap</button>
<span class="link-btn" id="toRegister">KayÄ±t Ol</span>
<span class="link-btn" id="toReset2">Åifremi unuttum</span>
</div>

<div id="resetForm" style="display:none;">
<h3>Åifreyi SÄ±fÄ±rla</h3>
<input id="resetMail" type="email" placeholder="E-posta">
<button type="button" id="resetBtn">Åifre SÄ±fÄ±rlama Maili GÃ¶nder</button>
<span class="link-btn" id="toLogin2">GiriÅŸe dÃ¶n</span>
</div>

<div id="newPassForm" style="display:none;">
<h3>Yeni Åifre Belirle</h3>
<input id="newPass" type="password" placeholder="Yeni ÅŸifre">
<button type="button" id="newPassBtn">Åifreyi GÃ¼ncelle</button>
</div>

<div id="durum"></div>
</div>

<button type="button" id="musicBtn" style="position:fixed;bottom:20px;right:20px;padding:12px 20px;
font-size:18px;border:none;border-radius:10px;background:rgba(0,0,0,0.6);color:white;">
â–¶ Oynat
</button>

<audio id="bgm"><source src="music.m4a" type="audio/mp4"></audio>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import {
getAuth,
createUserWithEmailAndPassword,
signInWithEmailAndPassword,
sendPasswordResetEmail,
verifyPasswordResetCode,
confirmPasswordReset
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

const firebaseConfig = {
apiKey: "AIzaSyC5X_RnBnhy2k-X6Y_lezHgWbgK31Y5Dao",
authDomain: "unixstorm-9dff8.firebaseapp.com",
projectId: "unixstorm-9dff8",
storageBucket: "unixstorm-9dff8.firebasestorage.app",
messagingSenderId: "787509821542",
appId: "1:787509821542:web:2b54b5bafee1207edeada7"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

emailjs.init("dCQownkzENRARtTC_");

const overlay=document.getElementById("overlay");
const overlayText=document.getElementById("overlayText");
const durum=document.getElementById("durum");

/* === YENÄ° EKLENEN SPAM KORUMALARI === */
let lastRegisterMailTime = 0;
let lastResetMailTime = 0;
const MAIL_COOLDOWN = 180000; // 3 dakika

function emailKontrol(mail){
return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(mail);
}

function bosMu(...alanlar){
return alanlar.some(a=>!a.value);
}

function showOverlay(text="ğ‹ğ®ğ­ğŸğğ§ ğğğ¤ğ¥ğğ²ğ¢ğ§ğ¢ğ³..."){
overlayText.textContent=text;
overlay.style.display="flex";
}

function hideOverlay(){
overlay.style.display="none";
}

let kod=null;

const registerForm=document.getElementById("registerForm");
const loginForm=document.getElementById("loginForm");
const resetForm=document.getElementById("resetForm");
const newPassForm=document.getElementById("newPassForm");

function gizle(){
registerForm.style.display=
loginForm.style.display=
resetForm.style.display=
newPassForm.style.display="none";
}

function gecis(form){
showOverlay();
setTimeout(()=>{
gizle();
form.style.display="block";
hideOverlay();
},700);
}

toLogin.onclick=()=>gecis(loginForm);
toRegister.onclick=()=>gecis(registerForm);
toReset.onclick=()=>gecis(resetForm);
toReset2.onclick=()=>gecis(resetForm);
toLogin2.onclick=()=>gecis(loginForm);

regBtn.onclick=async()=>{
if(bosMu(regName,regMail,regPass)){
durum.textContent="LÃ¼tfen tÃ¼m alanlarÄ± doldurun";
return;
}
if(!emailKontrol(regMail.value)){
durum.textContent="ğ„-ğğ¨ğ¬ğ­ğš FormatÄ± HatalÄ± girildi";
return;
}

if(!kod){
if(Date.now()-lastRegisterMailTime<MAIL_COOLDOWN){
durum.textContent="Kod tekrar gÃ¶ndermek iÃ§in 3 dakika bekleyin";
return;
}
lastRegisterMailTime=Date.now();
showOverlay();
kod=Math.floor(100000+Math.random()*900000);
await emailjs.send("service_vbm28pq","template_507m11j",{kod,mail:regMail.value});
hideOverlay();
durum.textContent="LÃ¼tfen E-Posta adresinize gelen 6 Haneli kodu giriniz";
return;
}

if(regCode.value!=kod){
durum.textContent="Kod yanlÄ±ÅŸ";
return;
}

await createUserWithEmailAndPassword(auth,regMail.value,regPass.value);
durum.textContent="KaydÄ±nÄ±z BaÅŸarÄ±yla oluÅŸturuldu, yÃ¶nlendiriliyorsunuz...";
setTimeout(()=>location.href="ana_site.html",3000);
};

loginBtn.onclick=async()=>{
if(bosMu(loginMail,loginPass)){
durum.textContent="BoÅŸ alan bÄ±rakmayÄ±n";
return;
}
if(!emailKontrol(loginMail.value)){
durum.textContent="E-posta formatÄ± hatalÄ± girildi";
return;
}
showOverlay();
try{
await signInWithEmailAndPassword(auth,loginMail.value,loginPass.value);
durum.textContent="GiriÅŸ baÅŸarÄ±lÄ± yÃ¶nlendiriliyorsunuz";
setTimeout(()=>location.href="ana_site.html",3000);
}catch{
hideOverlay();
durum.textContent="E-posta veya ÅŸifre yanlÄ±ÅŸ girildi";
}
};

resetBtn.onclick=async()=>{
if(bosMu(resetMail)){
durum.textContent="E-posta girin";
return;
}
if(!emailKontrol(resetMail.value)){
durum.textContent="E-posta formatÄ± hatalÄ± girildi";
return;
}
if(Date.now()-lastResetMailTime<MAIL_COOLDOWN){
durum.textContent="LÃ¼tfen maili tekrar gÃ¶ndermek iÃ§in 3 dakika bekleyin";
return;
}
lastResetMailTime=Date.now();
showOverlay("Mail gÃ¶nderiliyor...");
try{
await sendPasswordResetEmail(auth,resetMail.value);
hideOverlay();
durum.textContent="Åifre sÄ±fÄ±rlama maili gÃ¶nderildi eyer maili gÃ¶remezseniz spam klasÃ¶rÃ¼nÃ¼ kontrol edin";
}catch{
hideOverlay();
durum.textContent="Bu e-posta'ya ait kullanÄ±cÄ± bulunamadÄ±";
}
};

const urlParams=new URLSearchParams(window.location.search);
const oobCode=urlParams.get("oobCode");

if(oobCode){
showOverlay("Link doÄŸrulanÄ±yor...");
verifyPasswordResetCode(auth,oobCode)
.then(()=>{
hideOverlay();
gizle();
newPassForm.style.display="block";
})
.catch(()=>{
hideOverlay();
durum.textContent="Link geÃ§ersiz veya sÃ¼resi dolmuÅŸ";
});
}

newPassBtn.onclick=async()=>{
if(newPass.value.length<6){
durum.textContent="Åifreniz en az 6 karakter barÄ±ndÄ±rmak zorunda";
return;
}
showOverlay("Åifre gÃ¼ncelleniyor...");
await confirmPasswordReset(auth,oobCode,newPass.value);
hideOverlay();
durum.textContent="Åifre gÃ¼ncellendi";
setTimeout(()=>gecis(loginForm),3000);
};

const audio=document.getElementById("bgm");
musicBtn.onclick=()=>audio.paused?(audio.play(),musicBtn.textContent="â¸ Durdur"):(audio.pause(),musicBtn.textContent="â–¶ Oynat");
</script>
</body>
    </html>
