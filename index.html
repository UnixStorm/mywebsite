<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNIXSTORM</title>

<style>
body {
    margin: 0;
    padding: 0;
    height: 100vh;
    background: url("3cc68b3f22ff5463843e82b661033950.jpg") no-repeat center center fixed;
    background-size: cover;
    font-family: "Arial";
}
.yazi-kutu {
    width: 100%;
    text-align: center;
    margin-top: 28px;
}
.anaYazi {
    font-size: 18px;
    color: white;
    font-weight: bold;
    text-shadow: 0 0 6px white, 0 0 14px white;
}
.vip {
    color: orange;
    font-size: 17px;
    text-shadow: 0 0 6px orange, 0 0 15px orange;
    font-weight: bold;
}
.red {
    color: red;
    font-weight: bold;
    text-shadow: 0 0 6px red, 0 0 15px red;
}
.center-box {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 280px;
    padding: 18px;
    background: rgba(0,0,0,0.78);
    backdrop-filter: blur(5px);
    border-radius: 12px;
    box-shadow: 0 0 22px rgba(0,0,0,0.65);
    text-align: center;
    color: white;
}

.center-box h3 { margin: 0 0 12px; font-size: 22px; }
.center-box input {
    width: 100%; padding: 10px; margin: 6px 0;
    border-radius: 8px; border: none; outline: none; font-size: 15px;
}
.center-box button {
    width: 100%; padding: 10px; margin-top: 8px;
    border: none; border-radius: 8px; background: #006CFF;
    color: white; font-weight: bold; cursor: pointer; font-size: 16px;
}
.link-btn {
    margin-top: 8px; display: block; color: #ddd;
    cursor: pointer; text-decoration: underline; font-size: 14px;
}
#durum { margin-top: 10px; font-size: 14px; min-height: 22px; color: #fff; }
#kilit {
    position: fixed; inset: 0; background: rgba(0,0,0,0.35);
    z-index: 9999; display: none; pointer-events: auto;
}
</style>
</head>

<body>
<div id="kilit"></div>

<div class="yazi-kutu">
    <div class="anaYazi">ğğ® ğ¬ğ¢ğ­ğ ğ–£˜ğ”ğğˆğ—ğ’ğ“ğğ‘ğŒğŸ‡¹ğŸ‡· á´›á´€Ê€á´€Ò“Ä±É´á´…á´€É´ á´‹á´œÊ€á´œÊŸá´á´œsÌ§á´›á´œÊ€</div>
    <div style="margin-top: 6px;">
        <span class="vip">ğ˜ƒğ—¶ğ—½_ğ˜‚ğ˜†ğ—²ğ—¹ğ—²ğ—¿ğŸ”± = </span>
        <span class="red">ğŠğ€ğ€ğ ğ™ğğ‘ğğ€ & ğˆğğ…ğ€ğ™ ğ™ğğ‘ğğ€</span>
    </div>
</div>

<div class="center-box">

<!-- KAYIT -->
<div id="registerForm">
    <h3>KayÄ±t Ol</h3>
    <input type="text" id="regName" placeholder="KullanÄ±cÄ± adÄ±">
    <input type="email" id="regMail" placeholder="E-posta">
    <input type="password" id="regPass" placeholder="Åifre">
    <input type="text" id="regCode" placeholder="E-postaya gelen kod">
    <button id="regBtn">KayÄ±t Ol</button>
    <span class="link-btn" id="toLogin">GiriÅŸ yapÄ±n</span>
</div>

<!-- GÄ°RÄ°Å -->
<div id="loginForm" style="display:none;">
    <h3>GiriÅŸ Yap</h3>
    <input type="email" id="loginMail" placeholder="E-posta">
    <input type="password" id="loginPass" placeholder="Åifre">
    <button id="loginBtn">GiriÅŸ Yap</button>
    <span class="link-btn" id="toRegisterFromLogin">KayÄ±t olmak istiyorum</span>
</div>

<div id="durum"></div>
</div>

<!-- EMAILJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init("YOUR_PUBLIC_KEY_HERE"); // <<< BURAYA SADECE PUBLIC API KEY GELECEK

let dogrulamaKodu = null;
const durum = document.getElementById("durum");
const kilit = document.getElementById("kilit");
function kilitle(){ kilit.style.display = "block"; }
function ac(){ kilit.style.display = "none"; }

document.getElementById("toLogin").onclick = ()=>{
    document.getElementById("registerForm").style.display="none";
    document.getElementById("loginForm").style.display="block";
};

document.getElementById("toRegisterFromLogin").onclick = ()=>{
    document.getElementById("registerForm").style.display="block";
    document.getElementById("loginForm").style.display="none";
};

function emailGecerliMi(mail){
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(mail);
}

/* K A Y I T   O L */
document.getElementById("regBtn").onclick = async()=>{

    const ad = document.getElementById("regName").value.trim();
    const mail = document.getElementById("regMail").value.trim();
    const pass = document.getElementById("regPass").value.trim();
    const girilenKod = document.getElementById("regCode").value.trim();

    if(!ad || !mail || !pass){
        durum.textContent = "BoÅŸ alan bÄ±rakma.";
        return;
    }

    if(!emailGecerliMi(mail)){
        durum.textContent = "E-posta formatÄ± hatalÄ±!";
        return;
    }

    // Ä°lk tÄ±klamada: kod gÃ¶nder
    if(!dogrulamaKodu){
        dogrulamaKodu = Math.floor(100000 + Math.random()*900000);

        kilitle();
        durum.textContent = "E-posta gÃ¶nderiliyor...";

        await emailjs.send(
            "service_vbm28pq",
            "template_507m11j",
            { kod: dogrulamaKodu, mail: mail }
        );

        ac();
        durum.textContent = "Kod gÃ¶nderildi! Gelen kutunu kontrol et.";
        return;
    }

    // Kod kontrolÃ¼
    if(girilenKod != dogrulamaKodu){
        durum.textContent = "DoÄŸrulama kodu yanlÄ±ÅŸ!";
        return;
    }

    durum.textContent = "âœ” KayÄ±t baÅŸarÄ±lÄ±!";
    localStorage.setItem("kullanici", mail);
    setTimeout(()=> location.href="ana_site.html", 1500);
};

/* GÄ°RÄ°Å */
document.getElementById("loginBtn").onclick = ()=>{
    const mail = document.getElementById("loginMail").value.trim();
    const pass = document.getElementById("loginPass").value.trim();

    if(mail === localStorage.getItem("kullanici")){
        durum.textContent = "âœ” GiriÅŸ baÅŸarÄ±lÄ±!";
        setTimeout(()=> location.href="ana_site.html", 1500);
    } else {
        durum.textContent = "HatalÄ± giriÅŸ.";
    }
};
</script>

</body>
</html>
